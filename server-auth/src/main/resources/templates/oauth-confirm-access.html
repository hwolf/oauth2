<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorator="layouts/base">
<head>
<title>Please confirm</title>
</head>
<body>
	<div layout:fragment="content">
		<div class="row">
			<section class="col-md-8">
				<h2>Please confirm</h2>
				<form role="form" th:action="@{/oauth/authorize}" method="post">
					<p>
						Do you authorize '<span th:text="${authorizationRequest.clientId}"></span>' at 
							'<span th:text="${authorizationRequest.redirectUri}"></span>' to 
						access your protected resources ?
					</p>
					<div th:each="scope : ${authorizationRequest.scope}" class="checkbox">
						<label>
						    <input type="checkbox" th:name="${'scope.' + scope}" value="true" th:checked="${scopes['scope.' + scope] == 'true'}" />
	   						<span th:text="${scope}"></span>
						</label>
					</div>
					<input name="user_oauth_approval" value="true" type="hidden" />
					<button class="btn btn-primary" name="authorize" type="submit">Authorize</button>
				</form>
			</section>
		</div>
	</div>
</body>
</html>
